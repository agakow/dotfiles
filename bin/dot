#!/bin/sh
#
# dot

set -e # Abort on error
source $DOTFILES/helpers

if [[ "Yes" == $(ask "set macos defaults") ]]
then
  # Set OS X defaults
  info "Setting macos defaults"
  $DOTFILES/macos/set-defaults.sh
fi

# Install homebrew
$DOTFILES/homebrew/install.sh 2>&1

# Update homebrew
if [[ "Yes" == $(ask "brew update") ]]
then
  info "brew update"
  brew update
fi

# Install oh my ZSH
$DOTFILES/zsh/install.sh

# Run Homebrew through the Brewfile
if [[ "Yes" == $(ask "brew bundle") ]]
then
  cd "$DOTFILES/homebrew"

  info "brew bundle"
  brew bundle
fi
